\section{出題の自動制御}
\label{sec:take_sys}
\subsection{出題手法}
本章では\ref{sec:jidosei}章で述べた自動生成により生成した問題の出題手法について述べる．
出題は学習効果を高めるために問題の関係性に着目した「関係性を用いた出題」，教育的な評価手法の
形成的評価と総括的評価を用いた「形成的評価を用いた出題」，「総括的評価を用いた出題」
の3つの出題法を組み合わせた出題を行う．

\subsubsection{関係性を用いた出題}
工学分野の教材は知識を蓄積していくことで学習が進行していく．
C言語でも同様に文法やアルゴリズムなどの知識を蓄積していくことで作ることができるプログラムが増え，
様々な要求に対応できるプログラムを書くことができるようになっていく．

このような蓄積型の分野の教材では前に学習した事柄との関連性が強く教材ごとのつながりが強いものが多い．
たとえば，forなどの繰り返し構文を習う場合，事前に変数についての知識がないと上手く使いこなすことが出来ない．
また，同じ学習内容の中でも段階的に知識をつけていくことがあり，順番に解いていくことで理解しやすくなる．
ここでの例はポインタの内容での「ポインタ」と「ポインタ配列」などである．ポインタについて先に習うことで，ポインタ配列
を学習するときに以前の知識をもとに学習できるので理解が早くなる．

よって，このような関係性をもとに問題を内容ごとにグループ分けを行い，そのグループごとに出題を行う．
このグループ分けを用いた出題は\ref{sec:pool}節で述べたプログラムセットを用いて行う．
プログラムセットは問題の登録時に同様な内容の問題ごとにグループ分けされており，
同一のプログラムセットであれば関連した問題が出題される．

さらに，問題登録時に同一のプログラムセット内で問題の難易度ごとにレベルが付加されている．
このレベルを用いてやさしい問題から順に解くことにより理解がしやすくなる．
%%%3.6へ
%プログラムセットを作成する．
%ここでのプログラムセットとは，同様な問題内容の穴埋め問題の集合を指す．
%グループ分けは問題の自動生成時に行われ，プログラムの内容に従って教材作成者が決定する．
%さらに，同一のプログラムセット内でも穴埋め問題の難易度によりレベルを付加する．
%このレベルを用いてやさしい問題から順に解くことにより理解がしやすくなる．
%%%

\subsubsection{形成的評価を用いた出題}
形成的評価とは小さなテストなどを繰り返し，学習者の学力の移り変わりを評価する評価手法である．
学習の途中に小テストを行いどの程度理解できているのか評価を行う．短い間隔でテストを行うことで細かく学習者の
理解度に対応しながら学習を進めていくことが出来，学習進度と学習者の理解度がマッチしないといった問題を防ぎ，
学習者の理解度に合わせた学習を行うことが出来るようになる．
これを出題に応用することにより，学習者の理解度の変化に合わせた出題制御が行える．

本研究では，この形成的評価を出題に組み込むために，1問解くごとに正誤判定をし，
その場で次に出す問題レベルの切り替えを行うようにした．
1問ごとに判定を行うことにより，学習者の理解度に応じた問題が出題されるようになり，適切な問題が出題される．
このレベルの切り替えでは，上（レベルアップ）下（レベルダウン）2方向の切り替えと
そのまま同じレベルで学習を行う3通りの制御を行うようにし，
最終的に自分の理解度に近い問題が出るように集約されるように設計した．

さらに，低いレベルで連続して間違えるような学習者には，
テキストによる基礎知識の学習が足りないと判断し，
規定数の問題を解いていなくても強制的に復習をさせるようにする．

\subsubsection{総括的評価を用いた出題}
総括的評価では単元の最後に学習した内容についてまとめてテストを行い，学習者の学力を評価する評価手法である．
最後に総まとめのテストを行うことにより，これまでの学習でのトータルの学習効果の評価を行う．
よって，最終的な学習目標に対して学習者がどの程度まで理解出来ているのかを計るのに用いることが出来，
学習者の学習の全体でみた進捗度合いを把握することができる．
これを出題に応用することによりある程度の学習目標にまで到達しなかった学習者に再学習を行わせる
などの制御が行えるようになる．

本研究では，教材作成者が指定した問題数と閾値をもとに，指定した問題数を解き終わったときに
正解数と閾値を比較して次に行う処理を決定する．
この時，正解数が閾値以上だとその単元を終了させ，閾値以下だった場合復習を行わせるように制御し，
再学習を行った後もう一度問題に解答させるといった処理をさせることが出来るようにする．

\subsection{出題の流れ}
本研究ではこれまで述べてきた出題手法を組み合わせた独自の出題手法を用いている．
出題の流れは図\ref{fig:take_flow}で示されるような形で出題されていく．

学習者はまず出題される問題の分野の選択を行い，分野分けされた問題の中から学習したい分野を決定する．
まず，1問目の問題は分野の中で最低レベルの問題群の中からランダムで出題される．
出題された問題に対して学習者が解答を行うと，その場で正誤判定が行われる．
その正誤判定の結果をもとに形成的評価が行われ次に出題する問題のレベルの制御を行い，出題が行われる．
形成的評価では学習を始めた時点からこれまでの正解数と不正解数が事前に問題作成者が指定した閾値と比較され，
閾値以上になると，次に出題する問題のレベルが変更される．
正解数が正解数の閾値を上回った場合問題のレベルは上げられ，不正解数が不正解数の閾値を上回った場合レベルが下げられる．
正解数，不正解数ともに閾値を下回った場合は，次の問題も同じレベルで出題される．
また，連続で間違いを続け，事前に設定された連続間違い数の閾値を超えると
出題数が残っている場合でも強制的に復習を行わせることも可能にする．

そして，指定した問題数を解くと総括的評価が行われる．総括的評価では正解率が計算され，
その値が閾値を超えていた場合，単元の終了となる．閾値を超えていない場合は復習を行わせるため
再学習を行わせ，もう一度問題を解かせる．

\begin{figure}[hdtp]
\begin{center}
\includegraphics[width=13cm,height=10cm]{image/take_flow.eps}
\caption{出題の流れ}
\label{fig:take_flow}
\end{center}
\end{figure}

\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%ADELのテスト機構では先ほど述べた記述を読み込み問題を提示する．出題時の問題の選択は,
%問題データベース中に存在するグループから出題意図を基にシステムが選択し,そのグループ内からランダムで問題が出題される．

%その総合結果により学習者の実力の判定をする評価方法である．
%この評価を用いて単元によりグループ分けされた問題を
%解いていき形成的評価での問題セットの問題をある程度まとまった数解いた後に評価を行う
%C言語学習では学習する内容ごとに分野分けすることが可能である．

%しかし，レベルは1〜3の3段階で設定されているため，この範囲から外れたレベルをとることはない．

%分野分けされたプログラムの中でも作成するプログラムの規模により難易度分けすることが可能である．
%また，複数の構文のを用いたプログラムも存在する．
%同じ内容の問題を低いレベルから順に出していくことにより問題が解きやすくなる．
%プログラムセットを用いてグループ分けする．
%複数の分野に属する問題も作成可能である．
